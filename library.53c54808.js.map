{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,4L,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCArF,MAAMC,EAAcC,IACvB,IACI,MAAMC,EAASC,aAAaC,QAAQH,GACpC,OAAOV,KAAKC,MAAMU,E,CACpB,MAAOG,GACLC,QAAQC,IAAI,QAASF,E,oBCK7B,MAGMG,EAAUC,SAASC,cAAc,gBAEjCC,EAAQF,SAASC,cAAc,cAC/BE,EAAUH,SAASC,cAAc,cACjCG,EAAaJ,SAASC,cAAc,oBACpCI,EAAWL,SAASC,cAAc,cAExCF,EAAQO,QAIR,MAkDMC,EAAsBC,IAC1B,MAAMC,EAASD,EAAIE,KAAIC,GAnDH,GAACC,YACrBA,EAAWC,cACXA,EAAaC,aACbA,EAAYC,OACZA,EAAMC,eACNA,EAAcvC,GACdA,EAAEwC,eACFA,EAAcC,aACdA,MAGqB,KAAjBJ,IACFA,EAAe,uBAEIK,IAAjBL,IACFA,EAAeE,QAEKG,IAAlBN,IACFA,EAAgBI,GAElB,IAAIG,EAAWN,EAAaO,MAAM,EAAG,GACrCxB,QAAQC,IAAIsB,GACZ,MAAME,EAAeP,EAAOL,KAAIa,GAASA,EAAMC,OAC/C,OAAoB,OAAhBZ,EACK,kCAAkCnC,kEAEVO,EAAAyC,+CACJZ,wCAEvBS,EAAa9C,OAAS,EAClB8C,EAAaD,MAAM,EAAG,GAAGK,KAAK,MAAQ,MACtCJ,OACAF,gCAID,kCAAkC3C,kGAEsBmC,qCACpCC,wCAEvBS,EAAa9C,OAAS,EAClB8C,EAAaD,MAAM,EAAG,GAAGK,KAAK,MAAQ,MACtCJ,OACAF,+BAEF,EAKsBO,CAAchB,KAAMe,KAAK,IAEvDvB,EAAQyB,mBAAmB,YAAanB,EAAO,EAKjD,GAAIlB,EAxEgB,WAwES,CAC3Ba,EAAWyB,UAAUC,OAAO,SAC5B3B,EAAQ4B,UAAY,GACpB,MAAMC,EAAY,IAAIzC,EA3EJ,YA4ElBgB,EAAmByB,E,EAEjBzC,EA9EgB,WA8EQ0C,OAAMtB,GAAsB,IAAfA,EAAInC,UAElCe,EA/EO,SA+Ee0C,OAAMtB,GAAsB,IAAfA,EAAInC,WADhD4B,EAAWyB,UAAUK,IAAI,SAMvB9B,EAAWyB,UAAUM,SAAS,SAChC9B,EAASwB,UAAUC,OAAO,aAE1BzB,EAASwB,UAAUK,IAAI,aAoBzBnC,EAAQqC,iBAAiB,SAdP,KAChBjC,EAAQ4B,UAAY,GACpB,MAAMC,EAAY,IAAIzC,EAhGJ,YAiGlBgB,EAAmByB,GACnBK,EAAAC,GAASC,OAAOC,KAAK,uCAAuC,IAW9DtC,EAAMkC,iBAAiB,SARP,KACdjC,EAAQ4B,UAAY,GACpB,MAAMU,EAAY,IAAIlD,EAtGN,UAuGhBgB,EAAmBkC,GACnBJ,EAAAC,GAASC,OAAOC,KAAK,qCAAqC","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-78f78d4ef500fb41.js","node_modules/@parcel/runtime-js/lib/runtime-209a66d263b2288c.js","src/js/localStorage.js","src/library.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.53c54808.js\\\",\\\"dJC96\\\":\\\"BOX.7c8e27d0.jpg\\\",\\\"5UbS1\\\":\\\"index.05fce24b.css\\\",\\\"b9auz\\\":\\\"index.d1286cc8.js\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dJC96\")).toString();","export const getLocalSt = (key) => {\n    try {\n        const gotten = localStorage.getItem(key);\n        return JSON.parse(gotten);\n    } catch (error) {\n        console.log(\"Error\", error);\n    }\n}\nexport const setLocalSt = (key, value) => {\n  try {\n      const setten = JSON.stringify(value);\n      return localStorage.setItem(key, setten);\n    \n  } catch (error) {\n    console.log('Error', error);\n  }\n};\nexport const remLocalSt = (key) => {\n  try {\n    return localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Error', error);\n  }\n};\n","import '/src/sass/index.scss';\nimport { imgTemplate } from '/src/images/BOX.jpg';\n// import Notiflix from 'notiflix';\n// import { filmTemplate } from './js/film-templete';\n// import { refs } from './index';\n\nimport { getLocalSt } from './js/localStorage';\n\nimport Notiflix from 'notiflix';\n\nconst WATCHED_KEY = 'watched';\nconst QUEUE_KEY = 'queue';\n\nconst watched = document.querySelector('.watched-btn');\n\nconst queue = document.querySelector('.queue-btn');\nconst listLib = document.querySelector('.film-list');\nconst galleryLib = document.querySelector('.gallery-library');\nconst errorDiv = document.querySelector('.error-div');\n\nwatched.focus();\n\n//----------------------------------------Render------------------------\n\nconst filmTemplated = ({\n  poster_path,\n  original_name,\n  release_date,\n  genres,\n  first_air_date,\n  id,\n  original_title,\n  vote_average,\n}) => {\n  // console.log('strGenres', strGenres);\n  if (release_date === '') {\n    release_date = 'no relase date';\n  }\n  if (release_date === undefined) {\n    release_date = first_air_date;\n  }\n  if (original_name === undefined) {\n    original_name = original_title;\n  }\n  let dataFilm = release_date.slice(0, 4);\n  console.log(dataFilm);\n  const genrNamesArr = genres.map(genre => genre.name);\n  if (poster_path === null) {\n    return `<li class=\"film-item list\" id=\"${id}\">\n    <div class=\"films\">\n      <img class=\"film-img\" src=\"${imgTemplate}\">\n      <h2 class=\"film-title\">${original_name}</h2>\n      <h3 class=\"film-genre\">${\n        genrNamesArr.length > 2\n          ? genrNamesArr.slice(0, 2).join(', ') + '...'\n          : genrNamesArr\n      } | ${dataFilm}</h3>\n    </div>\n    </li>`;\n  } else {\n    return `<li class=\"film-item list\" id=\"${id}\">\n    <div class=\"films\">\n      <img class=\"film-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n      <h2 class=\"film-title\">${original_name}</h2>\n      <h3 class=\"film-genre\">${\n        genrNamesArr.length > 2\n          ? genrNamesArr.slice(0, 2).join(', ') + '...'\n          : genrNamesArr\n      } | ${dataFilm}</h3>\n    </div>\n    </li>`;\n  }\n};\n\nconst renderLibraryFilms = (arr) => {\n  const markup = arr.map(obj => filmTemplated(obj)).join('');\n\n  listLib.insertAdjacentHTML('beforeend', markup);\n};\n\n//----------------------------------Checks--------------------------------\n\nif (getLocalSt(WATCHED_KEY)) {\n  galleryLib.classList.remove('empty');\n  listLib.innerHTML = '';\n  const watchFilm = [...getLocalSt(WATCHED_KEY)];\n  renderLibraryFilms(watchFilm);\n}\nif (getLocalSt(WATCHED_KEY).every(obj => obj.length === 0)) {\n  galleryLib.classList.add('empty');\n} else if (getLocalSt(QUEUE_KEY).every(obj => obj.length === 0)) {\n  galleryLib.classList.add('empty');\n}\n    \n\nif (galleryLib.classList.contains('empty')) {\n  errorDiv.classList.remove('is-hidden');\n} else {\n  errorDiv.classList.add('is-hidden');\n}\n\n\n//-------------------------------------Library----------------------------------\n\nconst onWatched = () => {\n  listLib.innerHTML = '';\n  const watchFilm = [...getLocalSt(WATCHED_KEY)];\n  renderLibraryFilms(watchFilm);\n  Notiflix.Notify.info(\"Let's see what we have in watched...\")\n};\n\nconst onQueue = () => {\n  listLib.innerHTML = '';\n  const queueFilm = [...getLocalSt(QUEUE_KEY)];\n  renderLibraryFilms(queueFilm);\n  Notiflix.Notify.info(\"Let's see what we have in queue...\");\n};\n\nwatched.addEventListener('click', onWatched);\nqueue.addEventListener('click', onQueue);\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$38c35a87f6a0dd1b$exports","URL","resolve","import","meta","url","toString","$2338c8cd734f85a6$export$ed76abafcb8229b0","key","gotten","localStorage","getItem","error","console","log","$ce3726a01b8ab25a$var$watched","document","querySelector","$ce3726a01b8ab25a$var$queue","$ce3726a01b8ab25a$var$listLib","$ce3726a01b8ab25a$var$galleryLib","$ce3726a01b8ab25a$var$errorDiv","focus","$ce3726a01b8ab25a$var$renderLibraryFilms","arr","markup","map","obj","poster_path","original_name","release_date","genres","first_air_date","original_title","vote_average","undefined","dataFilm","slice","genrNamesArr","genre","name","imgTemplate","join","$ce3726a01b8ab25a$var$filmTemplated","insertAdjacentHTML","classList","remove","innerHTML","watchFilm","every","add","contains","addEventListener","$parcel$interopDefault","$eWCmQ","Notify","info","queueFilm"],"version":3,"file":"library.53c54808.js.map"}