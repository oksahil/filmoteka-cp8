!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,e){i[t]=e},e.parcelRequired7c6=o);o("8nrFW");var l=o("fSCrk"),c=o("lGS20"),s=function(t,e){var n=t.original_title,i=t.vote_average,o=t.vote_count,l=t.popularity,c=t.genres,s=t.overview,r=t.poster_path;return'<li class="card-item list">\n    <div class="picture_container">\n        <img class="film-img" src="'.concat(null===r?e:"https://image.tmdb.org/t/p/w500/"+r,'">\n    </div>\n\n    <div class="modal-textcontainer">\n    \n        <h2 class="film-title">').concat(n,'</h2>\n\n        <ul class="info-film list">\n            <li class="info_film_left"><p class="text-discription">Vote / Votes</p></li>\n            <li class="info_film_right"><p class="text-discription"><span class="vote-highlighted">').concat(i.toFixed(1),"</span> / ").concat(o,'</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Popularity</p></li>\n            <li class="info_film_right"><p class="text-discription">').concat(l,'</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Original Title</p></li>\n            <li class="info_film_right"><p class="text-discription to-upercase">').concat(n,'</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Genre</p></li>\n            <li class="info_film_right"><p class="text-discription">').concat(c.map((function(t){return t.name})).join(", "),'</p></li>\n        </ul>\n\n        <h3 class="modal-about to-upercase">About</h3>\n        <p class="modal-overwiew">').concat(s,'</p>\n       \n\n        <div class="modal-btn-list">\n            \n            <button class="add-watched-btn "watched-btn btn-text-library btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>')};o("4dnvg");var r=function(t,e){try{var n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.log("Error",t)}},a=function(t){try{return localStorage.removeItem(t)}catch(t){console.log("Error",t)}},d=o("iU1Pc");console.log(l.refs),l.refs.list.addEventListener("click",(function(t){console.dir(t.target.closest(".film-item img").currentSrc),f=t.target.closest(".film-item img").currentSrc,console.log(f);var e=t.target.closest(".film-item").id;m(),(0,c.fetchFilmInfo)(e).then(u).catch(p)})),l.refs.closeModalBtn.addEventListener("click",m);var f="";function u(e){var n=e.data;console.log(n),console.log(n.id),l.refs.cardList.innerHTML=s(n,f);var i="watched",o=(document.querySelector(".add-queue-btn"),document.querySelector(".add-watched-btn"));o.addEventListener("click",(function(e){e.preventDefault();var l=[],c=n;if(o.classList.contains("active")){console.log(n.id),a(i);var s=l.indexOf(n.id);return l.splice(s,1),r(i,l),t(d).Notify.failure("Removed from watched"),void o.classList.remove("active")}l.push(c);var f=JSON.stringify(l);localStorage.setItem("watched",f),console.log(f),o.textContent="Remove from watched",o.classList.add("active")})),window.addEventListener("keydown",v),l.refs.modal.addEventListener("click",g)}function p(t){console.log(t),window.addEventListener("keydown",v),l.refs.modal.addEventListener("click",g)}function m(){l.refs.modal.classList.toggle("is-hidden")}function v(t){"Escape"===t.code&&(m(),h())}function g(t){t.currentTarget===t.target&&(m(),h())}function h(){window.removeEventListener("keydown",v),l.refs.modal.removeEventListener("click",g)}}();
//# sourceMappingURL=index.3ea3c5fa.js.map
