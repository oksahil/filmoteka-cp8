!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){o[t]=e},e.parcelRequired7c6=a);var i=a("bpxeT"),l=(a("8nrFW"),a("2TvXO")),s=a("fSCrk"),c=a("lGS20");a("4dnvg");var r=function(t){try{return localStorage.removeItem(t)}catch(t){console.log("Error",t)}},d=a("iU1Pc");function f(e){var n,o,a,c,f,u,m,g,h,_;console.log(e.data),s.refs.cardList.innerHTML=(n=e.data,o=n.original_title,a=void 0===o?"no data":o,c=n.vote_average,f=n.vote_count,u=n.popularity,m=n.genres,g=n.overview,h=void 0===g?"no data":g,_=n.poster_path,'<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" src="'.concat(null===_?"/src/images/BOX.jpg":"https://image.tmdb.org/t/p/w500/"+_,'">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">').concat(a,'</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">').concat(c.toFixed(1),"</span> / ").concat(f,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(u,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">').concat(a,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(0===m.length?"no data":m.map((function(t){return t.name})).join(", "),'</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">').concat(h,'</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn "watched-btn btn-text-library btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>'));var w="watched",b="queue",y=document.querySelector(".add-queue-btn"),x=document.querySelector(".add-watched-btn");function L(){return(L=t(i)(t(l).mark((function e(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){x.textContent="Remove from watched",x.disabled=!1}),1e3);case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=t(i)(t(l).mark((function e(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){y.textContent="Remove from queue",y.disabled=!1}),1e3);case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}x.addEventListener("click",(function(e){var n=[],o=data;if(x.classList.contains("active")){console.log(data.id),r(w);var a=n.indexOf(data.id);n.splice(a,1);var i=JSON.stringify(n);return localStorage.setItem(w,i),console.log(i),t(d).Notify.failure("Removed from watched"),x.classList.remove("active"),void(x.textContent="Add to watched")}n.push(o);var l=JSON.stringify(n);localStorage.setItem("watched",l),console.log(l),x.textContent="Added from watched",x.disabled=!0,function(){L.apply(this,arguments)}(),x.classList.add("active")})),y.addEventListener("click",(function(e){console.log("hello!"),e.preventDefault();var n=[],o=data;if(y.classList.contains("active")){console.log(data.id),r(b);var a=n.indexOf(data.id);n.splice(a,1);var i=JSON.stringify(n);return localStorage.setItem(b,i),console.log(i),t(d).Notify.failure("Removed from queue"),y.classList.remove("active"),void(y.textContent="Add to queue")}n.push(o);var l=JSON.stringify(n);localStorage.setItem("queue",l),console.log(l),y.textContent="Added from queue",y.disabled=!0,function(){E.apply(this,arguments)}(),y.classList.add("active")})),window.addEventListener("keydown",p),s.refs.modal.addEventListener("click",v)}function u(t){console.log(t),window.addEventListener("keydown",p),s.refs.modal.addEventListener("click",v)}function m(){s.refs.modal.classList.toggle("is-hidden")}function p(t){"Escape"===t.code&&(m(),g())}function v(t){t.currentTarget===t.target&&(m(),g())}function g(){window.removeEventListener("keydown",p),s.refs.modal.removeEventListener("click",v)}console.log(s.refs),s.refs.list.addEventListener("click",(function(t){console.log(t.target.closest(".film-item"));var e=t.target.closest(".film-item").id;m(),(0,c.fetchFilmInfo)(e).then(f).catch(u)})),s.refs.closeModalBtn.addEventListener("click",m)}();
//# sourceMappingURL=index.11d3265a.js.map
