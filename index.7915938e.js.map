{"mappings":"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","sources":["src/js/pagination.js"],"sourcesContent":["const refs = {\n  paginationBtn: document.querySelector('.pagination-buttons'),\n};\n\nconst pageNumbers = (total, max, current) => {\n  const half = Math.floor(max / 2);\n  let to = max;\n\n  if (current + half >= total) {\n    to = total;\n  } else if (current > half) {\n    to = current + half;\n  }\n\n  let from = Math.max(to - max, 0);\n\n  return Array.from({ length: Math.min(total, max) }, (_, i) => i + 1 + from);\n};\n\nfunction createPagination(\n  totalPages = 50,\n  maxPagesVisible = 5,\n  currentPage = 1\n) {\n  let pages = pageNumbers(totalPages, maxPagesVisible, currentPage);\n  let currentPageBtn = null;\n  const buttons = new Map();\n\n  const disabled = {\n    start: () => pages[0] === 1,\n    prev: () => currentPage === 1 || currentPage > totalPages,\n    end: () => pages.slice(-1)[0] === totalPages,\n    next: () => currentPage >= totalPages,\n  };\n  const frag = document.createDocumentFragment();\n  const paginationButtonContainer = document.createElement('div');\n\n  paginationButtonContainer.className = 'pagination-buttons';\n\n  const render = (container = document.body) => {\n    container.appendChild(paginationButtonContainer);\n  };\n  const update = (newPageNumber = currentPage) => {\n    currentPage = newPageNumber;\n    pages = pageNumbers(totalPages, maxPagesVisible, currentPage);\n    buttons.forEach((updateButton, btn) => updateButton(btn));\n  };\n\n  const onChange = handler => {\n    paginationButtonContainer.addEventListener('change', handler);\n  };\n\n  const createAndSetupButton = (\n    label = '',\n    cls = '',\n    disabled = false,\n    handleClick\n  ) => {\n    // refs.paginationBtn = buttonElement;\n    refs.paginationBtn = document.createElement('button');\n    refs.paginationBtn.textContent = label;\n    refs.paginationBtn.className = `page-btn ${cls}`;\n    refs.paginationBtn.disabled = disabled;\n    refs.paginationBtn.addEventListener('click', e => {\n      handleClick(e);\n      update();\n      paginationButtonContainer.value = currentPage;\n      paginationButtonContainer.dispatchEvent(\n        new CustomEvent('change', { detail: { currentPageBtn } })\n      );\n    });\n\n    return refs.paginationBtn;\n  };\n\n  const onPageButtonClick = e =>\n    (currentPage = Number(e.currentTarget.textContent));\n\n  const onPageButtonUpdate = index => btn => {\n    btn.textContent = pages[index];\n\n    if (pages[index] === currentPage) {\n      currentPageBtn.classList.remove('btn-active');\n      btn.classList.add('btn-active');\n      currentPageBtn = btn;\n      currentPageBtn.focus();\n    }\n  };\n\n  buttons.set(\n    createAndSetupButton(\n      'start',\n      'start-page',\n      disabled.start(),\n      () => (currentPage = 1)\n    ),\n    btn => (btn.disabled = disabled.start())\n  );\n\n  buttons.set(\n    createAndSetupButton(\n      '<<<',\n      'prev-page',\n      disabled.prev(),\n      () => (currentPage -= 1)\n    ),\n    btn => (btn.disabled = disabled.prev())\n  );\n\n  pages.map((pageNumber, index) => {\n    const isCurrentPage = currentPage === pageNumber;\n    const button = createAndSetupButton(\n      pageNumber,\n      isCurrentPage ? 'btn-active' : '',\n      false,\n      onPageButtonClick\n    );\n\n    if (isCurrentPage) {\n      currentPageBtn = button;\n    }\n\n    buttons.set(button, onPageButtonUpdate(index));\n  });\n\n  buttons.set(\n    createAndSetupButton(\n      '>>>',\n      'next-page',\n      disabled.next(),\n      () => (currentPage += 1)\n    ),\n    btn => (btn.disabled = disabled.next())\n  );\n\n  buttons.set(\n    createAndSetupButton(\n      'end',\n      'end-page',\n      disabled.end(),\n      () => (currentPage = totalPages)\n    ),\n    btn => (btn.disabled = disabled.end())\n  );\n\n  buttons.forEach((_, btn) => frag.appendChild(btn));\n  paginationButtonContainer.appendChild(frag);\n\n  return {\n    render,\n    update,\n    onChange,\n  };\n}\n\nconst paginationButtons = createPagination(50, 10, 1);\n\npaginationButtons.render(document.querySelector('.pagination-wrapper'));\n\npaginationButtons.onChange(e => {\n  console.log(e.target.value);\n});\n\nconst refsBtn = {\n  startPageBtn: document.querySelector('.pagination-buttons'),\n  prevPageBtn: document.querySelector('.prev-page'),\n  nextPageBtn: document.querySelector('.next-page'),\n  endPageBtn: document.querySelector('.end-page'),\n};\n\nrefsBtn.startPageBtn.addEventListener('click', www);\n\nfunction www(e) {\n  console.log(e);\n}\n"],"names":["$dfaf77c789ce7a24$var$refs","paginationBtn","document","querySelector","$dfaf77c789ce7a24$var$pageNumbers","total","max","current","half","Math","floor","to","from","Array","length","min","_","i","$dfaf77c789ce7a24$var$paginationButtons","totalPages","arguments","maxPagesVisible","currentPage","pages","currentPageBtn","buttons","Map","disabled1","start","prev","end","slice","next","frag","createDocumentFragment","paginationButtonContainer","createElement","className","render","container","body","appendChild","update","newPageNumber","forEach","updateButton","btn","onChange","handler","addEventListener","createAndSetupButton","label","cls","disabled","handleClick","textContent","concat","e","value","dispatchEvent","CustomEvent","detail","onPageButtonClick","Number","currentTarget","onPageButtonUpdate","index","classList","remove","add","focus","set","map","pageNumber","isCurrentPage","button","$dfaf77c789ce7a24$var$createPagination","console","log","target","startPageBtn","prevPageBtn","nextPageBtn","endPageBtn"],"version":3,"file":"index.7915938e.js.map"}