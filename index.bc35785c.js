!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=i),i("iE7OH").register(JSON.parse('{"hG2aI":"index.bc35785c.js","8nR3u":"BOX.7c8e27d0.jpg","5UbS1":"index.425b7750.css"}'));var a,l=i("bpxeT"),s=i("8nrFW"),c=i("2TvXO"),r=i("fSCrk"),d=i("lGS20");a=i("aNJCr").getBundleURL("hG2aI")+i("iE7OH").resolve("8nR3u");i("4dnvg");var f=function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)}catch(e){console.log("Error",e)}},u=function(e,t){try{var n=JSON.stringify(t);return localStorage.setItem(e,n)}catch(e){console.log("Error",e)}},p=i("iU1Pc");function m(t){var n,o,i,d,m,v,g,w,y,b;console.log(t.data),r.refs.cardList.innerHTML=(n=t.data,o=n.original_title,i=void 0===o?"no data":o,d=n.vote_average,m=n.vote_count,v=n.popularity,g=n.genres,w=n.overview,y=void 0===w?"no data":w,b=n.poster_path,'<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" loading="lazy"\n         src="'.concat(null===b?e(a):"https://image.tmdb.org/t/p/w500/"+b,'">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">').concat(i,'</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">').concat(d.toFixed(1),"</span> / ").concat(m,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(v,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">').concat(i,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(0===g.length?"no data":g.map((function(e){return e.name})).join(", "),'</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">').concat(y,'</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>'));var x,L,E="watched",S="queue",O=t.data,R=document.querySelector(".add-queue-btn"),k=document.querySelector(".add-watched-btn"),T=[],q=O,C=[],A=O;function N(){return(N=e(l)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){k.textContent="Remove from watched",k.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=e(l)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){R.textContent="Remove from queue",R.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=e(l)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){k.textContent="Add to watched",k.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function I(){return(I=e(l)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){R.textContent="Add to queue",R.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}f(E)||u(E,[]),f(S)||u(S,[]),f(E).find((function(e){return e.id===O.id}))&&(k.textContent="Remove from watched",k.classList.add("active")),f(S).find((function(e){return e.id===O.id}))&&(R.textContent="Remove from queue",R.classList.add("active"));k.addEventListener("click",(function(t){if(console.log("hello!"),t.preventDefault(),k.classList.contains("active")){console.log(O.id);var n=T.indexOf(O.id);return T.splice(n,1),x=JSON.stringify(T),localStorage.setItem(E,x),console.log(x),e(p).Notify.failure("Removed from watched"),k.classList.remove("active"),k.textContent="Removed from watched",k.disabled=!0,void function(){D.apply(this,arguments)}()}var o;(o=T=[]).push.apply(o,e(s)(f(E))),T.push(q),x=u(E,T),console.log(T),k.textContent="Added from watched",k.disabled=!0,function(){N.apply(this,arguments)}(),k.classList.add("active")})),R.addEventListener("click",(function(t){if(console.log("hello!"),t.preventDefault(),R.classList.contains("active")){console.log(O.id);var n=C.indexOf(O.id);C.splice(n,1);var o=JSON.stringify(C);localStorage.setItem(S,o),console.log(o),e(p).Notify.failure("Removed from queue"),R.classList.remove("active"),R.textContent="Removed from queue",R.disabled=!0,function(){I.apply(this,arguments)}()}else{var i;(i=C=[]).push.apply(i,e(s)(f(S))),C.push(A),L=JSON.stringify(C),localStorage.setItem("queue",L),console.log(L),R.textContent="Added from queue",R.disabled=!0,function(){H.apply(this,arguments)}(),R.classList.add("active")}})),window.addEventListener("keydown",h),r.refs.modal.addEventListener("click",_)}function v(e){console.log(e),window.addEventListener("keydown",h),r.refs.modal.addEventListener("click",_)}function g(){r.refs.modal.classList.toggle("is-hidden"),r.refs.modalBody.classList.toggle("no-scroll")}function h(e){"Escape"===e.code&&(g(),w())}function _(e){e.currentTarget===e.target&&(g(),w())}function w(){window.removeEventListener("keydown",h),r.refs.modal.removeEventListener("click",_)}console.log(r.refs),r.refs.list.addEventListener("click",(function(e){console.log(e.target.closest(".film-item"));var t=e.target.closest(".film-item").id;g(),(0,d.fetchFilmInfo)(t).then(m).catch(v)})),r.refs.closeModalBtn.addEventListener("click",g)}();
//# sourceMappingURL=index.bc35785c.js.map
