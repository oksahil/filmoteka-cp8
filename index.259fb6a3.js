function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},t.parcelRequired7c6=o);var l=o("2Fivl"),s=o("7JaeA");const c=({original_title:e,vote_average:t,vote_count:n,popularity:i,genres:o,overview:l,poster_path:s},c)=>`<li class="card-item list">\n    <div class="picture_container">\n        <img class="film-img" src="${null===s?c:"https://image.tmdb.org/t/p/w500/"+s}">\n    </div>\n\n    <div class="modal-textcontainer">\n    \n        <h2 class="film-title">${e}</h2>\n\n        <ul class="info-film list">\n            <li class="info_film_left"><p class="text-discription">Vote / Votes</p></li>\n            <li class="info_film_right"><p class="text-discription"><span class="vote-highlighted">${t.toFixed(1)}</span> / ${n}</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Popularity</p></li>\n            <li class="info_film_right"><p class="text-discription">${i}</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Original Title</p></li>\n            <li class="info_film_right"><p class="text-discription to-upercase">${e}</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Genre</p></li>\n            <li class="info_film_right"><p class="text-discription">${o.map((e=>e.name)).join(", ")}</p></li>\n        </ul>\n\n        <h3 class="modal-about to-upercase">About</h3>\n        <p class="modal-overwiew">${l}</p>\n       \n\n        <div class="modal-btn-list">\n            \n            <button class="add-watched-btn "watched-btn btn-text-library btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>`;o("bYAht");const a=e=>{try{return localStorage.removeItem(e)}catch(e){console.log("Error",e)}};var r=o("eWCmQ");console.log(l.refs),l.refs.list.addEventListener("click",(function(e){console.dir(e.target.closest(".film-item img").currentSrc),d=e.target.closest(".film-item img").currentSrc,console.log(d);const t=e.target.closest(".film-item").id;m(),(0,s.fetchFilmInfo)(t).then(f).catch(u)})),l.refs.closeModalBtn.addEventListener("click",m);let d="";function f({data:t}){console.log(t),console.log(t.id),l.refs.cardList.innerHTML=c(t,d);const n="watched",i="queue",o=document.querySelector(".add-queue-btn"),s=document.querySelector(".add-watched-btn");s.addEventListener("click",(i=>{let o=[];const l=t;if(s.classList.contains("active")){console.log(t.id),a(n);let i=o.indexOf(t.id);o.splice(i,1);const l=JSON.stringify(o);return localStorage.setItem(n,l),console.log(l),e(r).Notify.failure("Removed from watched"),s.classList.remove("active"),void(s.textContent="Add to watched")}o.push(l);const c=JSON.stringify(o);localStorage.setItem("watched",c),console.log(c),s.textContent="Added from watched",s.disabled=!0,async function(){setTimeout((()=>{s.textContent="Remove from watched",s.disabled=!1}),1e3)}(),s.classList.add("active")})),o.addEventListener("click",(n=>{console.log("hello!"),n.preventDefault();let l=[];const s=t;if(o.classList.contains("active")){console.log(t.id),a(i);let n=l.indexOf(t.id);l.splice(n,1);const s=JSON.stringify(l);return localStorage.setItem(i,s),console.log(s),e(r).Notify.failure("Removed from queue"),o.classList.remove("active"),void(o.textContent="Add to queue")}l.push(s);const c=JSON.stringify(l);localStorage.setItem("queue",c),console.log(c),o.textContent="Added from queue",o.disabled=!0,async function(){setTimeout((()=>{o.textContent="Remove from queue",o.disabled=!1}),1e3)}(),o.classList.add("active")})),window.addEventListener("keydown",p),l.refs.modal.addEventListener("click",g)}function u(e){console.log(e),window.addEventListener("keydown",p),l.refs.modal.addEventListener("click",g)}function m(){l.refs.modal.classList.toggle("is-hidden")}function p(e){"Escape"===e.code&&(m(),v())}function g(e){e.currentTarget===e.target&&(m(),v())}function v(){window.removeEventListener("keydown",p),l.refs.modal.removeEventListener("click",g)}
//# sourceMappingURL=index.259fb6a3.js.map
