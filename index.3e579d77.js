function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},l=e.parcelRequired7c6;null==l&&((l=function(t){if(t in i)return i[t].exports;if(t in n){var e=n[t];delete n[t];var l={id:t,exports:{}};return i[t]=l,e.call(l.exports,l,l.exports),l.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},e.parcelRequired7c6=l);var o=l("2Fivl"),s=l("7JaeA");const c=({original_title:t,vote_average:e,vote_count:i,popularity:n,genres:l,overview:o,poster_path:s},c)=>`<li class="card-item list">\n    <div class="picture_container">\n        <img class="film-img" src="${null===s?c:"https://image.tmdb.org/t/p/w500/"+s}">\n    </div>\n\n    <div class="modal-textcontainer">\n    \n        <h2 class="film-title">${t}</h2>\n\n        <ul class="info-film list">\n            <li class="info_film_left"><p class="text-discription">Vote / Votes</p></li>\n            <li class="info_film_right"><p class="text-discription"><span class="vote-highlighted">${e.toFixed(1)}</span> / ${i}</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Popularity</p></li>\n            <li class="info_film_right"><p class="text-discription">${n}</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Original Title</p></li>\n            <li class="info_film_right"><p class="text-discription to-upercase">${t}</p></li>\n\n            <li class="info_film_left"><p class="text-discription">Genre</p></li>\n            <li class="info_film_right"><p class="text-discription">${l.map((t=>t.name)).join(", ")}</p></li>\n        </ul>\n\n        <h3 class="modal-about to-upercase">About</h3>\n        <p class="modal-overwiew">${o}</p>\n       \n\n        <div class="modal-btn-list">\n            \n            <button class="add-watched-btn "watched-btn btn-text-library btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>`;l("bYAht");const r=(t,e)=>{try{const i=JSON.stringify(e);localStorage.setItem(t,i)}catch(t){console.log("Error",t)}},a=t=>{try{return localStorage.removeItem(t)}catch(t){console.log("Error",t)}};var d=l("eWCmQ");console.log(o.refs),o.refs.list.addEventListener("click",(function(t){console.dir(t.target.closest(".film-item img").currentSrc),f=t.target.closest(".film-item img").currentSrc,console.log(f);const e=t.target.closest(".film-item").id;m(),(0,s.fetchFilmInfo)(e).then(p).catch(u)})),o.refs.closeModalBtn.addEventListener("click",m);let f="";function p({data:e}){console.log(e),console.log(e.id),o.refs.cardList.innerHTML=c(e,f);const i="watched",n=(document.querySelector(".add-queue-btn"),document.querySelector(".add-watched-btn"));n.addEventListener("click",(l=>{l.preventDefault();let o=[];const s=e;if(n.classList.contains("active")){console.log(e.id),a(i);let l=o.indexOf(e.id);return o.splice(l,1),r(i,o),t(d).Notify.failure("Removed from watched"),void n.classList.remove("active")}o.push(s);const c=JSON.stringify(o);localStorage.setItem("watched",c),console.log(c),n.textContent="Remove from watched",n.classList.add("active")})),window.addEventListener("keydown",g),o.refs.modal.addEventListener("click",v)}function u(t){console.log(t),window.addEventListener("keydown",g),o.refs.modal.addEventListener("click",v)}function m(){o.refs.modal.classList.toggle("is-hidden")}function g(t){"Escape"===t.code&&(m(),h())}function v(t){t.currentTarget===t.target&&(m(),h())}function h(){window.removeEventListener("keydown",g),o.refs.modal.removeEventListener("click",v)}
//# sourceMappingURL=index.3e579d77.js.map
