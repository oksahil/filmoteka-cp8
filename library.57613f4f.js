console.log(refs),refs.list.addEventListener("click",(function(l){console.log(l.target.closest(".film-item"));const n=l.target.closest(".film-item").id;o(),fetchFilmInfo(n).then(t).catch(e)})),refs.closeModalBtn.addEventListener("click",o);function t(t){console.log(t.data),refs.cardList.innerHTML=(({original_title:t="no data",vote_average:e,vote_count:o,popularity:l,genres:n,overview:i="no data",poster_path:a})=>`<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" loading="lazy"\n         src="${null===a?imgTemplate:"https://image.tmdb.org/t/p/w500/"+a}">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">${t}</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">${e.toFixed(1)}</span> / ${o}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${l}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">${t}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${0===n.length?"no data":n.map((t=>t.name)).join(", ")}</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">${i}</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>`)(t.data);const e="watched",o="queue",{data:i}=t,a=document.querySelector(".add-queue-btn"),s=document.querySelector(".add-watched-btn");let c=[];const d=i;let f=[];const m=i;let r,u;getLocalSt(e)||setLocalSt(e,[]),getLocalSt(o)||setLocalSt(o,[]),getLocalSt(e).find((t=>t.id===i.id))&&(s.textContent="Remove from watched",s.classList.add("active")),getLocalSt(o).find((t=>t.id===i.id))&&(a.textContent="Remove from queue",a.classList.add("active"));s.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),s.classList.contains("active")){console.log(i.id),c=[],c.push(...getLocalSt(e));let t=c.indexOf(i.id);return c.splice(t,1),r=JSON.stringify(c),localStorage.setItem(e,r),console.log(r),Notiflix.Notify.failure("Removed from watched"),s.classList.remove("active"),s.textContent="Removed from watched",s.disabled=!0,void async function(){setTimeout((()=>{s.textContent="Add to watched",s.disabled=!1}),1e3)}()}c=[],c.push(...getLocalSt(e)),c.push(d),r=setLocalSt(e,c),console.log(c),s.textContent="Added from watched",s.disabled=!0,async function(){setTimeout((()=>{s.textContent="Remove from watched",s.disabled=!1}),1e3)}(),s.classList.add("active")})),a.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),a.classList.contains("active")){console.log(i.id),f=[],f.push(...getLocalSt(o));let t=f.indexOf(i.id);f.splice(t,1);const e=JSON.stringify(f);localStorage.setItem(o,e),console.log(e),Notiflix.Notify.failure("Removed from queue"),a.classList.remove("active"),a.textContent="Removed from queue",a.disabled=!0,async function(){setTimeout((()=>{a.textContent="Add to queue",a.disabled=!1}),1e3)}()}else f=[],f.push(...getLocalSt(o)),f.push(m),u=JSON.stringify(f),localStorage.setItem("queue",u),console.log(u),a.textContent="Added from queue",a.disabled=!0,async function(){setTimeout((()=>{a.textContent="Remove from queue",a.disabled=!1}),1e3)}(),a.classList.add("active")})),window.addEventListener("keydown",l),refs.modal.addEventListener("click",n)}function e(t){console.log(t),window.addEventListener("keydown",l),refs.modal.addEventListener("click",n)}function o(){refs.modal.classList.toggle("is-hidden"),refs.modalBody.classList.toggle("no-scroll")}function l(t){"Escape"===t.code&&(o(),i())}function n(t){t.currentTarget===t.target&&(o(),i())}function i(){window.removeEventListener("keydown",l),refs.modal.removeEventListener("click",n)}
//# sourceMappingURL=library.57613f4f.js.map
