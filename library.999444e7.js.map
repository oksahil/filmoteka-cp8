{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0cc1fffc07bce47a.js","src/library.js","node_modules/@parcel/runtime-js/lib/runtime-4864a0f5722b5b14.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library.999444e7.js\\\",\\\"8nR3u\\\":\\\"BOX.7c8e27d0.jpg\\\",\\\"5UbS1\\\":\\\"index.425b7750.css\\\",\\\"2hvCh\\\":\\\"index.a62968a0.js\\\"}\"));","import '/src/sass/index.scss';\nimport imgTemplate from '/src/images/BOX.jpg';\n// import Notiflix from 'notiflix';\n// import { filmTemplate } from './js/film-templete';\n// import { refs } from './index';\n\nimport { getLocalSt } from './js/localStorage';\n\nimport Notiflix from 'notiflix';\n\nconst WATCHED_KEY = 'watched';\nconst QUEUE_KEY = 'queue';\n\nconst watched = document.querySelector('.watched-btn');\n\nconst queue = document.querySelector('.queue-btn');\nconst listLib = document.querySelector('.film-list');\nconst galleryLib = document.querySelector('.gallery-library');\nconst errorDiv = document.querySelector('.error-div');\n\nwatched.focus();\n\n//----------------------------------------Render------------------------\n\nconst filmTemplated = ({\n  poster_path,\n  original_name,\n  release_date,\n  genres,\n  first_air_date,\n  id,\n  original_title,\n  vote_average,\n}) => {\n  // console.log('strGenres', strGenres);\n  if (release_date === '') {\n    release_date = 'no relase date';\n  }\n  if (release_date === undefined) {\n    release_date = first_air_date;\n  }\n  if (original_name === undefined) {\n    original_name = original_title;\n  }\n  let dataFilm = release_date.slice(0, 4);\n  console.log(dataFilm);\n  const genrNamesArr = genres.map(genre => genre.name);\n  if (poster_path === null) {\n    return `<li class=\"film-item list\" id=\"${id}\">\n    <div class=\"films\">\n      <img class=\"film-img\" src=\"${imgTemplate}\">\n      <h2 class=\"film-title\">${original_name}</h2>\n      <h3 class=\"film-genre\">${\n        genrNamesArr.length > 2\n          ? genrNamesArr.slice(0, 2).join(', ') + '...'\n          : genrNamesArr\n      } | ${dataFilm}</h3>\n    </div>\n    </li>`;\n  } else {\n    return `<li class=\"film-item list\" id=\"${id}\">\n    <div class=\"films\">\n      <img class=\"film-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n      <h2 class=\"film-title\">${original_name}</h2>\n      <h3 class=\"film-genre\">${\n        genrNamesArr.length > 2\n          ? genrNamesArr.slice(0, 2).join(', ') + '...'\n          : genrNamesArr\n      } | ${dataFilm}</h3>\n    </div>\n    </li>`;\n  }\n};\n\nconst renderLibraryFilms = (arr) => {\n  const markup = arr.map(obj => filmTemplated(obj)).join('');\n\n  listLib.insertAdjacentHTML('beforeend', markup);\n};\n\n//----------------------------------Checks--------------------------------\n\nif (getLocalSt(WATCHED_KEY)) {\n  galleryLib.classList.remove('empty');\n  listLib.innerHTML = '';\n  const watchFilm = [...getLocalSt(WATCHED_KEY)];\n  renderLibraryFilms(watchFilm);\n}\nif (getLocalSt(WATCHED_KEY).every(obj => obj.length === 0)) {\n  galleryLib.classList.add('empty');\n} else if (getLocalSt(QUEUE_KEY).every(obj => obj.length === 0)) {\n  galleryLib.classList.add('empty');\n}\n    \n\nif (galleryLib.classList.contains('empty')) {\n  errorDiv.classList.remove('is-hidden');\n} else {\n  errorDiv.classList.add('is-hidden');\n}\n\n\n//-------------------------------------Library----------------------------------\n\nconst onWatched = () => {\n  listLib.innerHTML = '';\n  const watchFilm = [...getLocalSt(WATCHED_KEY)];\n  renderLibraryFilms(watchFilm);\n  Notiflix.Notify.info(\"Let's see what we have in watched...\")\n};\n\nconst onQueue = () => {\n  listLib.innerHTML = '';\n  const queueFilm = [...getLocalSt(QUEUE_KEY)];\n  renderLibraryFilms(queueFilm);\n  Notiflix.Notify.info(\"Let's see what we have in queue...\");\n};\n\nwatched.addEventListener('click', onWatched);\nqueue.addEventListener('click', onQueue);\n","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"8nR3u\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$8nrFW","$1f71288d8f279e5c$exports","getBundleURL","resolve","$cecbdd76f2d3d4bd$var$WATCHED_KEY","$cecbdd76f2d3d4bd$var$QUEUE_KEY","$cecbdd76f2d3d4bd$var$watched","document","querySelector","$cecbdd76f2d3d4bd$var$queue","$cecbdd76f2d3d4bd$var$listLib","$cecbdd76f2d3d4bd$var$galleryLib","$cecbdd76f2d3d4bd$var$errorDiv","focus","$cecbdd76f2d3d4bd$var$renderLibraryFilms","arr","markup","map","obj","param","poster_path","original_name","release_date","genres","first_air_date","original_title","vote_average","undefined","dataFilm","slice","console","log","genrNamesArr","genre","name","concat","$parcel$interopDefault","join","$cecbdd76f2d3d4bd$var$filmTemplated","insertAdjacentHTML","$UL92Z","getLocalSt","classList","remove","innerHTML","$cecbdd76f2d3d4bd$var$watchFilm","every","add","contains","addEventListener","watchFilm","$iU1Pc","Notify","info","queueFilm"],"version":3,"file":"library.999444e7.js.map"}