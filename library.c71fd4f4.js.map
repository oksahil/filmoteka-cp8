{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,+I,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCArF,MAAMC,EAAcC,IACvB,IACI,MAAMC,EAASC,aAAaC,QAAQH,GACpC,OAAOV,KAAKC,MAAMU,E,CACpB,MAAOG,GACLC,QAAQC,IAAI,QAASF,E,GCMvBG,EAAUC,SAASC,cAAc,gBAEjCC,EAAQF,SAASC,cAAc,cAC/BE,EAAUH,SAASC,cAAc,cAqDjCG,EAAsBC,IAC1B,MAAMC,EAASD,EAAIE,KAAIC,GAnDH,GAACC,YACrBA,EAAWC,cACXA,EAAaC,aACbA,EAAYC,OACZA,EAAMC,eACNA,EAAcpC,GACdA,EAAEqC,eACFA,EAAcC,aACdA,MAGqB,KAAjBJ,IACFA,EAAe,uBAEIK,IAAjBL,IACFA,EAAeE,QAEKG,IAAlBN,IACFA,EAAgBI,GAElB,IAAIG,EAAWN,EAAaO,MAAM,EAAG,GACrCrB,QAAQC,IAAImB,GACZ,MAAME,EAAeP,EAAOL,KAAIa,GAASA,EAAMC,OAC/C,OAAoB,OAAhBZ,EACK,kCAAkChC,kEAEVO,EAAAsC,+CACJZ,wCAEvBS,EAAa3C,OAAS,EAClB2C,EAAaD,MAAM,EAAG,GAAGK,KAAK,MAAQ,MACtCJ,OACAF,gCAID,kCAAkCxC,kGAEsBgC,qCACpCC,wCAEvBS,EAAa3C,OAAS,EAClB2C,EAAaD,MAAM,EAAG,GAAGK,KAAK,MAAQ,MACtCJ,OACAF,+BAEF,EAKsBO,CAAchB,KAAMe,KAAK,IAEvDpB,EAAQsB,mBAAmB,YAAanB,EAAO,EAGjD,GAAIf,EAjEgB,WAiES,CAC3BY,EAAQuB,UAAY,GACpB,MAAMC,EAAY,IAAIpC,EAnEJ,YAoElBa,EAAmBuB,E,CAErB,GAAIpC,EArEc,SAqES,CACzBY,EAAQuB,UAAY,GACpB,MAAME,EAAY,IAAIrC,EAvEN,UAwEhBa,EAAmBwB,E,CAerB7B,EAAQ8B,iBAAiB,SAZP,KAChB1B,EAAQuB,UAAY,GACpB,MAAMC,EAAY,IAAIpC,EA9EJ,YA+ElBa,EAAmBuB,EAAU,IAU/BzB,EAAM2B,iBAAiB,SAPP,KACd1B,EAAQuB,UAAY,GACpB,MAAME,EAAY,IAAIrC,EAnFN,UAoFhBa,EAAmBwB,EAAU","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e167465b6debd5b0.js","node_modules/@parcel/runtime-js/lib/runtime-209a66d263b2288c.js","src/js/localStorage.js","src/library.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.c71fd4f4.js\\\",\\\"dJC96\\\":\\\"BOX.7c8e27d0.jpg\\\",\\\"5UbS1\\\":\\\"index.7edf5a69.css\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dJC96\")).toString();","export const getLocalSt = (key) => {\n    try {\n        const gotten = localStorage.getItem(key);\n        return JSON.parse(gotten);\n    } catch (error) {\n        console.log(\"Error\", error);\n    }\n}\nexport const setLocalSt = (key, value) => {\n  try {\n      const setten = JSON.stringify(value);\n      return localStorage.setItem(key, setten);\n    \n  } catch (error) {\n    console.log('Error', error);\n  }\n};\nexport const remLocalSt = (key) => {\n  try {\n    return localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Error', error);\n  }\n};\n","import '/src/sass/index.scss';\nimport { imgTemplate } from '/src/images/BOX.jpg';\n// import Notiflix from 'notiflix';\n// import { filmTemplate } from './js/film-templete';\n// import { refs } from './index';\n\nimport { getLocalSt } from './js/localStorage';\n\nconst WATCHED_KEY = 'watched';\nconst QUEUE_KEY = 'queue';\n\nconst watched = document.querySelector('.watched-btn');\n\nconst queue = document.querySelector('.queue-btn');\nconst listLib = document.querySelector('.film-list');\n\n\nconst filmTemplated = ({\n  poster_path,\n  original_name,\n  release_date,\n  genres,\n  first_air_date,\n  id,\n  original_title,\n  vote_average,\n}) => {\n  // console.log('strGenres', strGenres);\n  if (release_date === '') {\n    release_date = 'no relase date';\n  }\n  if (release_date === undefined) {\n    release_date = first_air_date;\n  }\n  if (original_name === undefined) {\n    original_name = original_title;\n  }\n  let dataFilm = release_date.slice(0, 4);\n  console.log(dataFilm);\n  const genrNamesArr = genres.map(genre => genre.name);\n  if (poster_path === null) {\n    return `<li class=\"film-item list\" id=\"${id}\">\n    <div class=\"films\">\n      <img class=\"film-img\" src=\"${imgTemplate}\">\n      <h2 class=\"film-title\">${original_name}</h2>\n      <h3 class=\"film-genre\">${\n        genrNamesArr.length > 2\n          ? genrNamesArr.slice(0, 2).join(', ') + '...'\n          : genrNamesArr\n      } | ${dataFilm}</h3>\n    </div>\n    </li>`;\n  } else {\n    return `<li class=\"film-item list\" id=\"${id}\">\n    <div class=\"films\">\n      <img class=\"film-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n      <h2 class=\"film-title\">${original_name}</h2>\n      <h3 class=\"film-genre\">${\n        genrNamesArr.length > 2\n          ? genrNamesArr.slice(0, 2).join(', ') + '...'\n          : genrNamesArr\n      } | ${dataFilm}</h3>\n    </div>\n    </li>`;\n  }\n};\n\nconst renderLibraryFilms = (arr) => {\n  const markup = arr.map(obj => filmTemplated(obj)).join('');\n\n  listLib.insertAdjacentHTML('beforeend', markup);\n};\n\nif (getLocalSt(WATCHED_KEY)) {\n  listLib.innerHTML = '';\n  const watchFilm = [...getLocalSt(WATCHED_KEY)];\n  renderLibraryFilms(watchFilm);\n}\nif (getLocalSt(QUEUE_KEY)) {\n  listLib.innerHTML = '';\n  const queueFilm = [...getLocalSt(QUEUE_KEY)];\n  renderLibraryFilms(queueFilm);\n}\n\nconst onWatched = () => {\n  listLib.innerHTML = '';\n  const watchFilm = [...getLocalSt(WATCHED_KEY)];\n  renderLibraryFilms(watchFilm);\n};\n\nconst onQueue = () => {\n  listLib.innerHTML = '';\n  const queueFilm = [...getLocalSt(QUEUE_KEY)];\n  renderLibraryFilms(queueFilm);\n};\n\nwatched.addEventListener('click', onWatched);\nqueue.addEventListener('click', onQueue);\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$38c35a87f6a0dd1b$exports","URL","resolve","import","meta","url","toString","$2338c8cd734f85a6$export$ed76abafcb8229b0","key","gotten","localStorage","getItem","error","console","log","$ce3726a01b8ab25a$var$watched","document","querySelector","$ce3726a01b8ab25a$var$queue","$ce3726a01b8ab25a$var$listLib","$ce3726a01b8ab25a$var$renderLibraryFilms","arr","markup","map","obj","poster_path","original_name","release_date","genres","first_air_date","original_title","vote_average","undefined","dataFilm","slice","genrNamesArr","genre","name","imgTemplate","join","$ce3726a01b8ab25a$var$filmTemplated","insertAdjacentHTML","innerHTML","watchFilm","queueFilm","addEventListener"],"version":3,"file":"library.c71fd4f4.js.map"}