function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},t.parcelRequired7c6=i);var l=i("2Fivl"),a=i("7JaeA");const s=({original_title:e="no data",vote_average:t,vote_count:n,popularity:o,genres:i,overview:l="no data",poster_path:a})=>`<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" src="${null===a?"/src/images/BOX.jpg":"https://image.tmdb.org/t/p/w500/"+a}">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">${e}</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">${t.toFixed(1)}</span> / ${n}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${o}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">${e}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${0===i.length?"no data":i.map((e=>e.name)).join(", ")}</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">${l}</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn "watched-btn btn-text-library btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>`;i("bYAht");const d=e=>{try{return localStorage.removeItem(e)}catch(e){console.log("Error",e)}};var c=i("eWCmQ");function r(t){console.log(t.data),l.refs.cardList.innerHTML=s(t.data);const n="watched",o="queue",i=document.querySelector(".add-queue-btn"),a=document.querySelector(".add-watched-btn");a.addEventListener("click",(t=>{let o=[];const i=data;if(a.classList.contains("active")){console.log(data.id),d(n);let t=o.indexOf(data.id);o.splice(t,1);const i=JSON.stringify(o);return localStorage.setItem(n,i),console.log(i),e(c).Notify.failure("Removed from watched"),a.classList.remove("active"),void(a.textContent="Add to watched")}o.push(i);const l=JSON.stringify(o);localStorage.setItem("watched",l),console.log(l),a.textContent="Added from watched",a.disabled=!0,async function(){setTimeout((()=>{a.textContent="Remove from watched",a.disabled=!1}),1e3)}(),a.classList.add("active")})),i.addEventListener("click",(t=>{console.log("hello!"),t.preventDefault();let n=[];const l=data;if(i.classList.contains("active")){console.log(data.id),d(o);let t=n.indexOf(data.id);n.splice(t,1);const l=JSON.stringify(n);return localStorage.setItem(o,l),console.log(l),e(c).Notify.failure("Removed from queue"),i.classList.remove("active"),void(i.textContent="Add to queue")}n.push(l);const a=JSON.stringify(n);localStorage.setItem("queue",a),console.log(a),i.textContent="Added from queue",i.disabled=!0,async function(){setTimeout((()=>{i.textContent="Remove from queue",i.disabled=!1}),1e3)}(),i.classList.add("active")})),window.addEventListener("keydown",u),l.refs.modal.addEventListener("click",p)}function f(e){console.log(e),window.addEventListener("keydown",u),l.refs.modal.addEventListener("click",p)}function m(){l.refs.modal.classList.toggle("is-hidden")}function u(e){"Escape"===e.code&&(m(),g())}function p(e){e.currentTarget===e.target&&(m(),g())}function g(){window.removeEventListener("keydown",u),l.refs.modal.removeEventListener("click",p)}console.log(l.refs),l.refs.list.addEventListener("click",(function(e){console.log(e.target.closest(".film-item"));const t=e.target.closest(".film-item").id;m(),(0,a.fetchFilmInfo)(t).then(r).catch(f)})),l.refs.closeModalBtn.addEventListener("click",m);
//# sourceMappingURL=index.cda1e293.js.map
