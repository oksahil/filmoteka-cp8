!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=e.parcelRequired7c6;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},e.parcelRequired7c6=i);var a=i("bpxeT"),l=i("8nrFW"),s=i("2TvXO");console.log(refs),refs.list.addEventListener("click",(function(t){console.log(t.target.closest(".film-item"));var e=t.target.closest(".film-item").id;r(),fetchFilmInfo(e).then(c).catch(d)})),refs.closeModalBtn.addEventListener("click",r);function c(e){var n,o,i,c,d,r,p,m,v,g;console.log(e.data),refs.cardList.innerHTML=(n=e.data,o=n.original_title,i=void 0===o?"no data":o,c=n.vote_average,d=n.vote_count,r=n.popularity,p=n.genres,m=n.overview,v=void 0===m?"no data":m,g=n.poster_path,'<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" loading="lazy"\n         src="'.concat(null===g?imgTemplate:"https://image.tmdb.org/t/p/w500/"+g,'">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">').concat(i,'</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">').concat(c.toFixed(1),"</span> / ").concat(d,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(r,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">').concat(i,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(0===p.length?"no data":p.map((function(t){return t.name})).join(", "),'</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">').concat(v,'</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>'));var h,_,w="watched",L="queue",y=e.data,b=document.querySelector(".add-queue-btn"),x=document.querySelector(".add-watched-btn"),S=[],E=y,T=[],k=y;function q(){return(q=t(a)(t(s).mark((function e(){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){x.textContent="Remove from watched",x.disabled=!1}),1e3);case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=t(a)(t(s).mark((function e(){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){b.textContent="Remove from queue",b.disabled=!1}),1e3);case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=t(a)(t(s).mark((function e(){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){x.textContent="Add to watched",x.disabled=!1}),1e3);case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=t(a)(t(s).mark((function e(){return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){b.textContent="Add to queue",b.disabled=!1}),1e3);case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}getLocalSt(w)||setLocalSt(w,[]),getLocalSt(L)||setLocalSt(L,[]),getLocalSt(w).find((function(t){return t.id===y.id}))&&(x.textContent="Remove from watched",x.classList.add("active")),getLocalSt(L).find((function(t){return t.id===y.id}))&&(b.textContent="Remove from queue",b.classList.add("active"));x.addEventListener("click",(function(e){if(console.log("hello!"),e.preventDefault(),x.classList.contains("active")){var n;console.log(y.id),(n=S=[]).push.apply(n,t(l)(getLocalSt(w)));var o=S.indexOf(y.id);return S.splice(o,1),h=JSON.stringify(S),localStorage.setItem(w,h),console.log(h),Notiflix.Notify.failure("Removed from watched"),x.classList.remove("active"),x.textContent="Removed from watched",x.disabled=!0,void function(){O.apply(this,arguments)}()}var i;(i=S=[]).push.apply(i,t(l)(getLocalSt(w))),S.push(E),h=setLocalSt(w,S),console.log(S),x.textContent="Added from watched",x.disabled=!0,function(){q.apply(this,arguments)}(),x.classList.add("active")})),b.addEventListener("click",(function(e){if(console.log("hello!"),e.preventDefault(),b.classList.contains("active")){var n;console.log(y.id),(n=T=[]).push.apply(n,t(l)(getLocalSt(L)));var o=T.indexOf(y.id);T.splice(o,1);var i=JSON.stringify(T);localStorage.setItem(L,i),console.log(i),Notiflix.Notify.failure("Removed from queue"),b.classList.remove("active"),b.textContent="Removed from queue",b.disabled=!0,function(){R.apply(this,arguments)}()}else{var a;(a=T=[]).push.apply(a,t(l)(getLocalSt(L))),T.push(k),_=JSON.stringify(T),localStorage.setItem("queue",_),console.log(_),b.textContent="Added from queue",b.disabled=!0,function(){C.apply(this,arguments)}(),b.classList.add("active")}})),window.addEventListener("keydown",f),refs.modal.addEventListener("click",u)}function d(t){console.log(t),window.addEventListener("keydown",f),refs.modal.addEventListener("click",u)}function r(){refs.modal.classList.toggle("is-hidden"),refs.modalBody.classList.toggle("no-scroll")}function f(t){"Escape"===t.code&&(r(),p())}function u(t){t.currentTarget===t.target&&(r(),p())}function p(){window.removeEventListener("keydown",f),refs.modal.removeEventListener("click",u)}}();
//# sourceMappingURL=library.69218aa9.js.map
