function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var l={id:e,exports:{}};return o[e]=l,t.call(l.exports,l,l.exports),l.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=l),l("kyEFX").register(JSON.parse('{"bhLpe":"index.cb7debf1.js","dJC96":"BOX.7c8e27d0.jpg","5UbS1":"index.425b7750.css"}'));var i=l("2Fivl"),a=l("7JaeA");new URL(l("kyEFX").resolve("dJC96"),import.meta.url).toString();const s=({original_title:e="no data",vote_average:t,vote_count:o,popularity:n,genres:l,overview:i="no data",poster_path:a})=>`<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" loading="lazy"\n         src="${null===a?"/src/images/BOX.jpg":"https://image.tmdb.org/t/p/w500/"+a}">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">${e}</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">${t.toFixed(1)}</span> / ${o}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${n}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">${e}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${0===l.length?"no data":l.map((e=>e.name)).join(", ")}</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">${i}</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>`;l("bYAht");var d=l("31u3U"),c=l("eWCmQ");function r(t){console.log(t.data),i.refs.cardList.innerHTML=s(t.data);const o="watched",n="queue",{data:l}=t,a=document.querySelector(".add-queue-btn"),r=document.querySelector(".add-watched-btn");let f=[];const m=l;let g=[];const v=l;let _,h;(0,d.getLocalSt)(o)||(0,d.setLocalSt)(o,[]),(0,d.getLocalSt)(n)||(0,d.setLocalSt)(n,[]),(0,d.getLocalSt)(o).find((e=>e.id===l.id))&&(r.textContent="Remove from watched",r.classList.add("active")),(0,d.getLocalSt)(n).find((e=>e.id===l.id))&&(a.textContent="Remove from queue",a.classList.add("active"));r.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),r.classList.contains("active")){console.log(l.id);let t=f.indexOf(l.id);return f=[],f.push(...(0,d.getLocalSt)(o)),f.splice(t,1),_=JSON.stringify(f),localStorage.setItem(o,_),console.log(_),e(c).Notify.failure("Removed from watched"),r.classList.remove("active"),r.textContent="Removed from watched",r.disabled=!0,void async function(){setTimeout((()=>{r.textContent="Add to watched",r.disabled=!1}),1e3)}()}f=[],f.push(...(0,d.getLocalSt)(o)),f.push(m),_=(0,d.setLocalSt)(o,f),console.log(f),r.textContent="Added from watched",r.disabled=!0,async function(){setTimeout((()=>{r.textContent="Remove from watched",r.disabled=!1}),1e3)}(),r.classList.add("active")})),a.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),a.classList.contains("active")){console.log(l.id),g=[],g.push(...(0,d.getLocalSt)(o)),g.filter((e=>e.poster_path===l.poster_path)),console.log(g);const t=JSON.stringify(g);localStorage.setItem(n,t),console.log(t),e(c).Notify.failure("Removed from queue"),a.classList.remove("active"),a.textContent="Removed from queue",a.disabled=!0,async function(){setTimeout((()=>{a.textContent="Add to queue",a.disabled=!1}),1e3)}()}else g=[],g.push(...(0,d.getLocalSt)(n)),g.push(v),h=JSON.stringify(g),localStorage.setItem("queue",h),console.log(h),a.textContent="Added from queue",a.disabled=!0,async function(){setTimeout((()=>{a.textContent="Remove from queue",a.disabled=!1}),1e3)}(),a.classList.add("active")})),window.addEventListener("keydown",u),i.refs.modal.addEventListener("click",p)}function f(e){console.log(e),window.addEventListener("keydown",u),i.refs.modal.addEventListener("click",p)}function m(){i.refs.modal.classList.toggle("is-hidden"),i.refs.modalBody.classList.toggle("no-scroll")}function u(e){"Escape"===e.code&&(m(),g())}function p(e){e.currentTarget===e.target&&(m(),g())}function g(){window.removeEventListener("keydown",u),i.refs.modal.removeEventListener("click",p)}console.log(i.refs),i.refs.list.addEventListener("click",(function(e){console.log(e.target.closest(".film-item"));const t=e.target.closest(".film-item").id;m(),(0,a.fetchFilmInfo)(t).then(r).catch(f)})),i.refs.closeModalBtn.addEventListener("click",m);
//# sourceMappingURL=index.cb7debf1.js.map
