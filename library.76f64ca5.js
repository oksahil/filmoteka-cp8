function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var l={id:e,exports:{}};return o[e]=l,t.call(l.exports,l,l.exports),l.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=l),l("kyEFX").register(JSON.parse('{"g2IXO":"library.76f64ca5.js","dJC96":"BOX.7c8e27d0.jpg"}'));var i,a=l("31u3U");i=new URL(l("kyEFX").resolve("dJC96"),import.meta.url).toString();var s=l("eWCmQ");const d=document.querySelector(".film-list"),c=document.querySelector("[data-modal-close]");document.querySelector("[data-modal]"),document.querySelector("body"),document.querySelector(".card-list");d.addEventListener("click",(function(e){console.log(e.target.closest(".film-item"));const t=e.target.closest(".film-item").id;u(),fetchFilmInfo(t).then(r).catch(f)})),c.addEventListener("click",u);function r(t){console.log(t.data),refs.cardList.innerHTML=(({original_title:t="no data",vote_average:o,vote_count:n,popularity:l,genres:a,overview:s="no data",poster_path:d})=>`<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" loading="lazy"\n         src="${null===d?e(i):"https://image.tmdb.org/t/p/w500/"+d}">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">${t}</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">${o.toFixed(1)}</span> / ${n}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${l}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">${t}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${0===a.length?"no data":a.map((e=>e.name)).join(", ")}</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">${s}</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>`)(t.data);const o="watched",n="queue",{data:l}=t,d=document.querySelector(".add-queue-btn"),c=document.querySelector(".add-watched-btn");let r=[];const f=l;let u=[];const p=l;let v,_;(0,a.getLocalSt)(o)||(0,a.setLocalSt)(o,[]),(0,a.getLocalSt)(n)||(0,a.setLocalSt)(n,[]),(0,a.getLocalSt)(o).find((e=>e.id===l.id))&&(c.textContent="Remove from watched",c.classList.add("active")),(0,a.getLocalSt)(n).find((e=>e.id===l.id))&&(d.textContent="Remove from queue",d.classList.add("active"));c.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),c.classList.contains("active")){console.log(l.id),r=[],r.push(...(0,a.getLocalSt)(o));let t=r.indexOf(l.id);return r.splice(t,1),v=JSON.stringify(r),localStorage.setItem(o,v),console.log(v),e(s).Notify.failure("Removed from watched"),c.classList.remove("active"),c.textContent="Removed from watched",c.disabled=!0,void async function(){setTimeout((()=>{c.textContent="Add to watched",c.disabled=!1}),1e3)}()}r=[],r.push(...(0,a.getLocalSt)(o)),r.push(f),v=(0,a.setLocalSt)(o,r),console.log(r),c.textContent="Added from watched",c.disabled=!0,async function(){setTimeout((()=>{c.textContent="Remove from watched",c.disabled=!1}),1e3)}(),c.classList.add("active")})),d.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),d.classList.contains("active")){console.log(l.id),u=[],u.push(...(0,a.getLocalSt)(n));let t=u.indexOf(l.id);u.splice(t,1);const o=JSON.stringify(u);localStorage.setItem(n,o),console.log(o),e(s).Notify.failure("Removed from queue"),d.classList.remove("active"),d.textContent="Removed from queue",d.disabled=!0,async function(){setTimeout((()=>{d.textContent="Add to queue",d.disabled=!1}),1e3)}()}else u=[],u.push(...(0,a.getLocalSt)(n)),u.push(p),_=JSON.stringify(u),localStorage.setItem("queue",_),console.log(_),d.textContent="Added from queue",d.disabled=!0,async function(){setTimeout((()=>{d.textContent="Remove from queue",d.disabled=!1}),1e3)}(),d.classList.add("active")})),window.addEventListener("keydown",m),refs.modal.addEventListener("click",g)}function f(e){console.log(e),window.addEventListener("keydown",m),refs.modal.addEventListener("click",g)}function u(){refs.modal.classList.toggle("is-hidden"),refs.modalBody.classList.toggle("no-scroll")}function m(e){"Escape"===e.code&&(u(),p())}function g(e){e.currentTarget===e.target&&(u(),p())}function p(){window.removeEventListener("keydown",m),refs.modal.removeEventListener("click",g)}
//# sourceMappingURL=library.76f64ca5.js.map
