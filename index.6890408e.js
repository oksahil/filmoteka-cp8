function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var l={id:e,exports:{}};return o[e]=l,t.call(l.exports,l,l.exports),l.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=l);var i=l("2Fivl"),s=l("7JaeA");const a=({original_title:e="no data",vote_average:t,vote_count:o,popularity:n,genres:l,overview:i="no data",poster_path:s})=>`<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" src="${null===s?"/src/images/BOX.jpg":"https://image.tmdb.org/t/p/w500/"+s}">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">${e}</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">${t.toFixed(1)}</span> / ${o}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${n}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">${e}</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">${0===l.length?"no data":l.map((e=>e.name)).join(", ")}</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">${i}</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>`;l("bYAht");const d=e=>{try{const t=localStorage.getItem(e);return JSON.parse(t)}catch(e){console.log("Error",e)}},c=(e,t)=>{try{const o=JSON.stringify(t);return localStorage.setItem(e,o)}catch(e){console.log("Error",e)}};var r=l("eWCmQ");function f(t){console.log(t.data),i.refs.cardList.innerHTML=a(t.data);const o="watched",n="queue",{data:l}=t,s=document.querySelector(".add-queue-btn"),f=document.querySelector(".add-watched-btn");let u=[];const m=l;let v=[];const h=l;async function _(){setTimeout((()=>{f.textContent="Remove from watched",f.disabled=!1}),1e3)}async function w(){setTimeout((()=>{s.textContent="Remove from queue",s.disabled=!1}),1e3)}d(o)||c(o,[]),d(n)||c(n,[]),d(o).find((e=>e.id===l.id))&&(f.textContent="Remove from watched",f.classList.add("active")),d(n).find((e=>e.id===l.id))&&(s.textContent="Remove from queue",s.classList.add("active"));f.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),void 0===d(o)){u.push(m);const e=JSON.stringify(u);localStorage.setItem(o,e),console.log(e),f.textContent="Added from watched",f.disabled=!0,_(),f.classList.add("active")}else{if(d(o).find((e=>e.id===l.id))){console.log(l.id),u.push(...d(o));let t=u.indexOf(l.id);u.splice(t,1);const n=JSON.stringify(u);return localStorage.setItem(o,n),console.log(n),e(r).Notify.failure("Removed from watched"),f.classList.remove("active"),void(f.textContent="Add to watched")}{console.log(u),u.push(...d(o)),u.push(m);const e=JSON.stringify(u);localStorage.setItem(o,e),console.log(e),f.textContent="Added from watched",f.disabled=!0,_(),f.classList.add("active")}}})),s.addEventListener("click",(t=>{if(console.log("hello!"),t.preventDefault(),void 0===d(n)){v.push(h);const e=JSON.stringify(v);localStorage.setItem("queue",e),console.log(e),s.textContent="Added from queue",s.disabled=!0,w(),s.classList.add("active")}else{if(d(n).find((e=>e.id===l.id))){console.log(l.id),v.push(...d(n));let t=v.indexOf(l.id);v.splice(t,1);const o=JSON.stringify(v);return localStorage.setItem(n,o),console.log(o),e(r).Notify.failure("Removed from queue"),s.classList.remove("active"),void(s.textContent="Add to queue")}{v.push(...d(n)),v.push(h);const e=JSON.stringify(v);localStorage.setItem("queue",e),console.log(e),s.textContent="Added from queue",s.disabled=!0,w(),s.classList.add("active")}}})),window.addEventListener("keydown",g),i.refs.modal.addEventListener("click",p)}function u(e){console.log(e),window.addEventListener("keydown",g),i.refs.modal.addEventListener("click",p)}function m(){i.refs.modal.classList.toggle("is-hidden"),i.refs.modalBody.classList.toggle("no-scroll")}function g(e){"Escape"===e.code&&(m(),v())}function p(e){e.currentTarget===e.target&&(m(),v())}function v(){window.removeEventListener("keydown",g),i.refs.modal.removeEventListener("click",p)}console.log(i.refs),i.refs.list.addEventListener("click",(function(e){console.log(e.target.closest(".film-item"));const t=e.target.closest(".film-item").id;m(),(0,s.fetchFilmInfo)(t).then(f).catch(u)})),i.refs.closeModalBtn.addEventListener("click",m);
//# sourceMappingURL=index.6890408e.js.map
