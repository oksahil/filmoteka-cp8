!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a("iE7OH").register(JSON.parse('{"hG2aI":"index.55419184.js","8nR3u":"BOX.7c8e27d0.jpg","5UbS1":"index.425b7750.css"}'));var i=a("bpxeT"),l=a("8nrFW"),s=a("2TvXO"),c=a("fSCrk"),r=a("lGS20");a("aNJCr").getBundleURL("hG2aI"),a("iE7OH").resolve("8nR3u");a("4dnvg");var d=a("UL92Z"),f=a("iU1Pc");function u(t){var n,o,a,r,u,p,m,h,_,w;console.log(t.data),c.refs.cardList.innerHTML=(n=t.data,o=n.original_title,a=void 0===o?"no data":o,r=n.vote_average,u=n.vote_count,p=n.popularity,m=n.genres,h=n.overview,_=void 0===h?"no data":h,w=n.poster_path,'<li class="modal_card_container list">\n    <div class="modal_pict_container">\n        <img class="film-img" loading="lazy"\n         src="'.concat(null===w?"/src/images/BOX.jpg":"https://image.tmdb.org/t/p/w500/"+w,'">\n    </div>\n\n    <div class="modal_text_container">\n    \n        <h2 class="film_title">').concat(a,'</h2>\n\n        <ul class="modal_filminfo list">\n            <li class="filminfo_left"><p class="modal_filminfo-data">Vote / Votes</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data"><span class="vote_highlighted">').concat(r.toFixed(1),"</span> / ").concat(u,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Popularity</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(p,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Original Title</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data to-upercase">').concat(a,'</p></li>\n\n            <li class="filminfo_left"><p class="modal_filminfo-data">Genre</p></li>\n            <li class="filminfo_right"><p class="modal_filminfo-data">').concat(0===m.length?"no data":m.map((function(e){return e.name})).join(", "),'</p></li>\n        </ul>\n\n        <h3 class="modal_text_container-about to-upercase">About</h3>\n        <p class="modal_text_container-overwiew">').concat(_,'</p>\n       \n\n        <div class="modal_btn_container">\n            \n            <button class="add-watched-btn btn" type="button">ADD TO WATCHED</button>\n            <button class="add-queue-btn btn" type="button">ADD TO QUEUE</button> \n        </div>\n    </div>\n</li>'));var L,b,y="watched",x="queue",S=t.data,E=document.querySelector(".add-queue-btn"),O=document.querySelector(".add-watched-btn"),R=[],k=S,T=[],q=S;function C(){return(C=e(i)(e(s).mark((function t(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){O.textContent="Remove from watched",O.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=e(i)(e(s).mark((function t(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){E.textContent="Remove from queue",E.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=e(i)(e(s).mark((function t(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){O.textContent="Add to watched",O.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=e(i)(e(s).mark((function t(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){E.textContent="Add to queue",E.disabled=!1}),1e3);case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}(0,d.getLocalSt)(y)||(0,d.setLocalSt)(y,[]),(0,d.getLocalSt)(x)||(0,d.setLocalSt)(x,[]),(0,d.getLocalSt)(y).find((function(e){return e.id===S.id}))&&(O.textContent="Remove from watched",O.classList.add("active")),(0,d.getLocalSt)(x).find((function(e){return e.id===S.id}))&&(E.textContent="Remove from queue",E.classList.add("active"));O.addEventListener("click",(function(t){if(console.log("hello!"),t.preventDefault(),O.classList.contains("active")){var n;console.log(S.id);var o=R.indexOf(S.id);return(n=R=[]).push.apply(n,e(l)((0,d.getLocalSt)(y))),R.splice(o,1),L=JSON.stringify(R),localStorage.setItem(y,L),console.log(L),e(f).Notify.failure("Removed from watched"),O.classList.remove("active"),O.textContent="Removed from watched",O.disabled=!0,void function(){H.apply(this,arguments)}()}var a;(a=R=[]).push.apply(a,e(l)((0,d.getLocalSt)(y))),R.push(k),L=(0,d.setLocalSt)(y,R),console.log(R),O.textContent="Added from watched",O.disabled=!0,function(){C.apply(this,arguments)}(),O.classList.add("active")})),E.addEventListener("click",(function(t){if(console.log("hello!"),t.preventDefault(),E.classList.contains("active")){var n;console.log(S.id),(n=T=[]).push.apply(n,e(l)((0,d.getLocalSt)(y))),T.filter((function(e){return e.poster_path===S.poster_path})),console.log(T);var o=JSON.stringify(T);localStorage.setItem(x,o),console.log(o),e(f).Notify.failure("Removed from queue"),E.classList.remove("active"),E.textContent="Removed from queue",E.disabled=!0,function(){D.apply(this,arguments)}()}else{var a;(a=T=[]).push.apply(a,e(l)((0,d.getLocalSt)(x))),T.push(q),b=JSON.stringify(T),localStorage.setItem("queue",b),console.log(b),E.textContent="Added from queue",E.disabled=!0,function(){A.apply(this,arguments)}(),E.classList.add("active")}})),window.addEventListener("keydown",v),c.refs.modal.addEventListener("click",g)}function p(e){console.log(e),window.addEventListener("keydown",v),c.refs.modal.addEventListener("click",g)}function m(){c.refs.modal.classList.toggle("is-hidden"),c.refs.modalBody.classList.toggle("no-scroll")}function v(e){"Escape"===e.code&&(m(),h())}function g(e){e.currentTarget===e.target&&(m(),h())}function h(){window.removeEventListener("keydown",v),c.refs.modal.removeEventListener("click",g)}console.log(c.refs),c.refs.list.addEventListener("click",(function(e){console.log(e.target.closest(".film-item"));var t=e.target.closest(".film-item").id;m(),(0,r.fetchFilmInfo)(t).then(u).catch(p)})),c.refs.closeModalBtn.addEventListener("click",m)}();
//# sourceMappingURL=index.55419184.js.map
