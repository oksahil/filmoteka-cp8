{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aCEO,MAAMC,EAAe,EAACC,eAACA,EAAcC,aAACA,EAAYC,WAACA,EAAUC,WAACA,EAAUC,OAACA,EAAMC,SAACA,EAAQC,YAACA,KAC/F,wIAEoEA,wEAMpCN,+OAIoEC,EAAaM,QAAQ,eAAeL,6KAGnEC,6LAGYH,wKAGZI,EAAOI,KAAIC,GAAMA,EAAKC,OAAMC,KAAK,8HAInEN,iSDXpC,SAASO,EAAaC,GAClBC,QAAQC,IAAIF,GAGZhB,EAAAmB,KAAKC,SAASC,UAAYnB,EAAac,EAAKM,MAE5CC,OAAOC,iBAAiB,UAAWC,GACnCzB,EAAAmB,KAAKO,MAAMF,iBAAiB,QAASG,E,CAEzC,SAASC,EAAcC,GACnBZ,QAAQC,IAAIW,GAGZN,OAAOC,iBAAiB,UAAWC,GACnCzB,EAAAmB,KAAKO,MAAMF,iBAAiB,QAASG,E,CAGzC,SAASG,IACL9B,EAAAmB,KAAKO,MAAMK,UAAUC,OAAO,Y,CAIhC,SAASP,EAAgBQ,GACN,WAAXA,EAAEC,OAINJ,IACAK,I,CAEJ,SAASR,EAAyBM,GAG1BA,EAAEG,gBAAkBH,EAAEI,SAC1BP,IACAK,I,CAEJ,SAASA,IACLZ,OAAOe,oBAAoB,UAAWb,GACtCzB,EAAAmB,KAAKO,MAAMY,oBAAoB,QAASX,E,YAnD5CV,QAAQC,IAAIlB,EAAAmB,MACZnB,EAAAmB,KAAKoB,KAAKf,iBAAiB,SAG3B,SAA8BS,GAE1B,MAAMO,EAAgBP,EAAEI,OAAOI,QAAQ,cAAcC,GACrDZ,KAEA,EAAAa,EAAAC,eAAcJ,GAAgBK,KAAK9B,GAAc+B,MAAMlB,E,IAP3D5B,EAAAmB,KAAK4B,cAAcvB,iBAAiB,QAASM","sources":["src/js/modal-info-film.js","src/js/card-templete.js"],"sourcesContent":["import { refs } from '/src/index.js';\nimport { fetchFilmInfo } from \"/src/js/fetch-film-info\";\nimport { cardTemplate } from \"/src/js/card-templete\";\nimport { fetchFilmPopularity } from \"/src/js/fetch-film-popularity\";\n\nconsole.log(refs);\nrefs.list.addEventListener('click', onCardClickOpenModal);\nrefs.closeModalBtn.addEventListener('click', toggleModal);\n\nfunction onCardClickOpenModal(e) {\n    // console.dir(e.target.closest('.film-item').id);\n    const filmTemplateId =e.target.closest('.film-item').id;\n    toggleModal();\n\n    fetchFilmInfo(filmTemplateId).then(respFilmInfo).catch(errorFilmInfo);\n};\n\nfunction respFilmInfo(resp) {\n    console.log(resp);\n    // console.log(resp.data.popularity);\n\n    refs.cardList.innerHTML = cardTemplate(resp.data);\n\n    window.addEventListener('keydown', onEscCloseModal);\n    refs.modal.addEventListener('click', onOutsideClickCloseModal);\n};\nfunction errorFilmInfo(er) {\n    console.log(er);\n    // fetchFilmPopularity();\n    // refs.cardList.innerHTML = \"Sorry we can't load film data!\";\n    window.addEventListener('keydown', onEscCloseModal);\n    refs.modal.addEventListener('click', onOutsideClickCloseModal);\n};\n\nfunction toggleModal() {\n    refs.modal.classList.toggle('is-hidden');\n};\n\n// ----------------- CLOSE MODAL------------------------------\nfunction onEscCloseModal(e) {\n    if (e.code !== 'Escape') {\n        return;\n    }\n\n    toggleModal();\n    removeAddEventlisteners();\n};\nfunction onOutsideClickCloseModal(e) {\n    // console.log(e.currentTarget);\n    // console.log(e.target);\n    if (e.currentTarget !== e.target) return;\n    toggleModal();\n    removeAddEventlisteners();\n};\nfunction removeAddEventlisteners() {\n    window.removeEventListener('keydown', onEscCloseModal);\n    refs.modal.removeEventListener('click', onOutsideClickCloseModal);\n};\n ","// import { rendserIds } from '/src/index';\n\nexport const cardTemplate = ({original_title,vote_average,vote_count,popularity,genres,overview,poster_path}) =>\n `<li class=\"card-item list\">\n    <div class=\"picture_container\">\n        <img class=\"film-img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n    </div>\n\n\n    <div>\n    \n        <h2 class=\"film-title\">${original_title}</h2>\n\n        <ul class=\"info-film list\">\n            <li class=\"info_film_left\"><p class=\"text-discription\">Vote / Votes</p></li>\n            <li class=\"info_film_right\"><p class=\"text-discription\"><span class=\"vote-highlighted\">${vote_average.toFixed(1)}</span> / ${vote_count}</p></li>\n\n            <li class=\"info_film_left\"><p class=\"text-discription\">Popularity</p></li>\n            <li class=\"info_film_right\"><p class=\"text-discription\">${popularity}</p></li>\n\n            <li class=\"info_film_left\"><p class=\"text-discription\">Original Title</p></li>\n            <li class=\"info_film_right\"><p class=\"text-discription to-upercase\">${original_title}</p></li>\n\n            <li class=\"info_film_left\"><p class=\"text-discription\">Genre</p></li>\n            <li class=\"info_film_right\"><p class=\"text-discription\">${genres.map(genr=>genr.name).join(', ')}</p></li>\n        </ul>\n\n        <h3 class=\"modal-about to-upercase\">About</h3>\n        <p class=\"modal-overwiew\">${overview}</p>\n       \n\n    <div class=\"modal-btn-list\">\n        \n        <button class=\"add-watched-btn \"watched-btn btn-text-library btn\" type=\"button\">ADD TO WATCHED</button>\n\n        <button class=\"add-queue-btn btn\" type=\"button\">ADD TO QUEUE</button> \n    </div>\n    </div>\n</li>`;"],"names":["$2Fivl","parcelRequire","$3b7a0b2bf3290fd5$export$f3d44414f0a0d0b1","original_title","vote_average","vote_count","popularity","genres","overview","poster_path","toFixed","map","genr","name","join","$26aff1fab1158a5e$var$respFilmInfo","resp","console","log","refs","cardList","innerHTML","data","window","addEventListener","$26aff1fab1158a5e$var$onEscCloseModal","modal","$26aff1fab1158a5e$var$onOutsideClickCloseModal","$26aff1fab1158a5e$var$errorFilmInfo","er","$26aff1fab1158a5e$var$toggleModal","classList","toggle","e","code","$26aff1fab1158a5e$var$removeAddEventlisteners","currentTarget","target","removeEventListener","list","filmTemplateId","closest","id","$7JaeA","fetchFilmInfo","then","catch","closeModalBtn"],"version":3,"file":"index.5604a0ca.js.map"}