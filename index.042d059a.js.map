{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aCAAA,EAAA,SDgBA,SAASC,EAAaC,GCdM,IAAAC,EAAEC,EAAcC,EAAaC,EAAWC,EAAWC,EAAOC,EAASC,EDe3FC,QAAQC,IAAIV,EAAKW,MACjBF,QAAQC,IAAIV,EAAKW,KAAKN,YAEtBR,EAAAe,KAAKC,SAASC,WClBUb,EDkBeD,EAAKW,KClBlBT,EAAaD,EAAbC,cAAcC,EAAYF,EAAZE,aAAaC,EAAUH,EAAVG,WAAWC,EAAUJ,EAAVI,WAAWC,EAAML,EAANK,OAAOC,EAAQN,EAARM,SAASC,EAAWP,EAAXO,YAC9F,qJAM4BO,OAHsBP,EAAY,iDAaUO,OAV5Cb,EAAc,gbAUuDa,OAAzBZ,EAAa,cAC5CY,OADwDX,EAAW,kDAEvDW,OADZV,EAAW,8DAEXU,OADYb,EAAc,kDAM3Da,OALiCT,EAAOU,KAAI,SAAAC,G,OAAMA,EAAKC,I,IAAM,qFAKpDH,OAATR,EAAS,wODLdY,OAAOC,iBAAiB,UAAWC,GACnCxB,EAAAe,KAAKU,MAAMF,iBAAiB,QAASG,E,CAMzC,SAASC,IACL3B,EAAAe,KAAKU,MAAMG,UAAUC,OAAO,Y,CAGhC,SAASL,EAAgBM,GACN,WAAXA,EAAEC,OAINJ,IACAK,I,CAEJ,SAASN,EAAyBI,GAG1BA,EAAEG,gBAAkBH,EAAEI,SAC1BP,IACAK,I,CAEJ,SAASA,IACLV,OAAOa,oBAAoB,UAAWX,GACtCxB,EAAAe,KAAKU,MAAMU,oBAAoB,QAAST,E,CA9C5Cd,QAAQC,IAAIb,EAAAe,MACZf,EAAAe,KAAKqB,KAAKb,iBAAiB,SAG3B,SAAqBO,GAEjB,IAAMO,EAAgBP,EAAEI,OAAOI,QAAQ,cAAcC,GACrDZ,KAEA,EAAAa,EAAAC,eAAcJ,GAAgBK,KAAKxC,E,IAcvCF,EAAAe,KAAK4B,cAAcpB,iBAAiB,QAASI,E","sources":["src/js/modal-info-film.js","src/js/card-templete.js"],"sourcesContent":["import { refs } from '/src/index.js';\nimport { fetchFilmInfo } from \"/src/js/fetch-film-info\";\nimport { cardTemplate } from \"/src/js/card-templete\";\n\nconsole.log(refs);\nrefs.list.addEventListener('click', onCardClick);\n// window.addEventListener()\n\nfunction onCardClick(e) {\n    // console.dir(e.target.closest('.film-item').id);\n    const filmTemplateId =e.target.closest('.film-item').id;\n    toggleModal();\n\n    fetchFilmInfo(filmTemplateId).then(respFilmInfo);\n};\n\nfunction respFilmInfo(resp) {\n    console.log(resp.data);\n    console.log(resp.data.popularity);\n\n    refs.cardList.innerHTML = cardTemplate(resp.data);\n\n    window.addEventListener('keydown', onEscCloseModal);\n    refs.modal.addEventListener('click', onOutsideClickCloseModal);\n};\n\n//   refs.openModalBtn.addEventListener('click', toggleModal);\nrefs.closeModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n    refs.modal.classList.toggle('is-hidden');\n};\n\nfunction onEscCloseModal(e) {\n    if (e.code !== 'Escape') {\n        return;\n    }\n\n    toggleModal();\n    removeAddEventlisteners();\n};\nfunction onOutsideClickCloseModal(e) {\n    // console.log(e.currentTarget);\n    // console.log(e.target);\n    if (e.currentTarget !== e.target) return;\n    toggleModal();\n    removeAddEventlisteners();\n};\nfunction removeAddEventlisteners() {\n    window.removeEventListener('keydown', onEscCloseModal);\n    refs.modal.removeEventListener('click', onOutsideClickCloseModal);\n};\n ","import { rendserIds } from '/src/index';\n\nexport const cardTemplate = ({original_name,vote_average,vote_count,popularity,genres,overview,poster_path}) =>\n `<li class=\"card-item list\">\n    <div class=\"picture_container\">\n        <img class=\"film-img\"\n            src=\"https://image.tmdb.org/t/p/w500/${poster_path}\">\n    </div>\n\n    <h2 class=\"film-title\">${original_name}</h2>\n\n    <ul class=\"info-film list\">\n        <li class=\"info-film-left\">\n            <p class=\"text-discription\">Vote / Votes</p>\n            <p class=\"text-discription\">Popularity</p>\n            <p class=\"text-discription\">Original Title</p>\n            <p class=\"text-discription\">Genre</p>\n        </li>\n        <li class=\"info-film-right\">\n            <p class=\"text-discription\"><span class=\"vote-highlighted\">${vote_average}</span> / ${vote_count}</p>\n            <p class=\"text-discription\">${popularity}</p>\n            <p class=\"text-discription to-upercase\">${original_name}</p>\n            <p class=\"text-discription\">${genres.map(genr=>genr.name)}</p>\n        </li>\n    </ul>\n\n    <h3 class=\"to-upercase\">About</h3>\n    <p>${overview}</p>\n\n    <div class=\"btn-list\">\n         \n        <button class=\"add-watched-btn btn\" type=\"button\">ADD TO WATCHED</button>\n        <button class=\"add-queue-btn btn\" type=\"button\">ADD TO QUEUE</button> \n    </div>\n</li>`;"],"names":["$fSCrk","parcelRequire","$15143f83a0ddf37f$var$respFilmInfo","resp","param","original_name","vote_average","vote_count","popularity","genres","overview","poster_path","console","log","data","refs","cardList","innerHTML","concat","map","genr","name","window","addEventListener","$15143f83a0ddf37f$var$onEscCloseModal","modal","$15143f83a0ddf37f$var$onOutsideClickCloseModal","$15143f83a0ddf37f$var$toggleModal","classList","toggle","e","code","$15143f83a0ddf37f$var$removeAddEventlisteners","currentTarget","target","removeEventListener","list","filmTemplateId","closest","id","$lGS20","fetchFilmInfo","then","closeModalBtn"],"version":3,"file":"index.042d059a.js.map"}